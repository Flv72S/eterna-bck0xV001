(()=>{var e={};e.id=688,e.ids=[688,888,660],e.modules={431:(e,s,t)=>{"use strict";t.a(e,async(e,o)=>{try{t.r(s),t.d(s,{config:()=>b,default:()=>u,getServerSideProps:()=>g,getStaticPaths:()=>p,getStaticProps:()=>x,reportWebVitals:()=>h,routeModule:()=>w,unstable_getServerProps:()=>N,unstable_getServerSideProps:()=>v,unstable_getStaticParams:()=>j,unstable_getStaticPaths:()=>y,unstable_getStaticProps:()=>f});var r=t(3101),i=t(7873),l=t(8222),n=t(8486),a=t.n(n),d=t(6452),c=t(2495),m=e([c]);c=(m.then?(await m)():m)[0];let u=(0,l.l)(c,"default"),x=(0,l.l)(c,"getStaticProps"),p=(0,l.l)(c,"getStaticPaths"),g=(0,l.l)(c,"getServerSideProps"),b=(0,l.l)(c,"config"),h=(0,l.l)(c,"reportWebVitals"),f=(0,l.l)(c,"unstable_getStaticProps"),y=(0,l.l)(c,"unstable_getStaticPaths"),j=(0,l.l)(c,"unstable_getStaticParams"),N=(0,l.l)(c,"unstable_getServerProps"),v=(0,l.l)(c,"unstable_getServerSideProps"),w=new r.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/register-professionista",pathname:"/register-professionista",bundlePath:"",filename:""},components:{App:d.default,Document:a()},userland:c});o()}catch(e){o(e)}})},6452:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});var o=t(997);function r({Component:e,pageProps:s}){return o.jsx(e,{...s})}t(2526)},2495:(e,s,t)=>{"use strict";t.a(e,async(e,o)=>{try{t.r(s),t.d(s,{default:()=>u});var r=t(997),i=t(6689),l=t(5641),n=t(7193),a=t(5984),d=t.n(a),c=t(6201),m=e([l,c]);[l,c]=m.then?(await m)():m;let x=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),p=e=>{if(!e)return"";let s=e.replace(/\D/g,"");return s.length<=3?s:s.length<=6?`${s.slice(0,3)} ${s.slice(3)}`:`${s.slice(0,3)} ${s.slice(3,6)} ${s.slice(6,10)}`};function u(){let{register:e,handleSubmit:s,formState:{errors:t},watch:o,setValue:a}=(0,l.useForm)(),[m,u]=(0,i.useState)(!1),g=(0,n.useRouter)(),b=async e=>{u(!0);try{let s=await fetch("/api/register/professionista",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=await s.json();if(!s.ok)throw Error(t.message||"Errore nella registrazione");c.default.success("Registrazione completata con successo!"),g.push("/login")}catch(e){console.error("Errore nella registrazione:",e),c.default.error(e instanceof Error?e.message:"Errore nella registrazione")}finally{u(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center py-8 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[r.jsx("h2",{className:"text-center text-3xl font-extrabold text-gray-900",children:"Registrazione Professionista"}),r.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Compila il form per registrarti come professionista Eterna"})]}),r.jsx("div",{className:"mt-6 sm:mx-auto sm:w-full sm:max-w-2xl",children:r.jsx("div",{className:"bg-white py-6 px-4 shadow sm:rounded-lg sm:px-8",children:r.jsx("form",{className:"space-y-4",onSubmit:s(b),children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx("div",{className:"col-span-2",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Dati Personali"})}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"nome",className:"block text-sm font-medium text-gray-700",children:"Nome"}),r.jsx("input",{...e("nome",{required:!0}),type:"text",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1.5 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),t.nome&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:"Il nome \xe8 obbligatorio"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"cognome",className:"block text-sm font-medium text-gray-700",children:"Cognome"}),r.jsx("input",{...e("cognome",{required:!0}),type:"text",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1.5 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),t.cognome&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:"Il cognome \xe8 obbligatorio"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),r.jsx("input",{...e("email",{required:!0,validate:x}),type:"email",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1.5 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),t.email&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:"validate"===t.email.type?"Inserisci un indirizzo email valido":"L'email \xe8 obbligatoria"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Telefono"}),r.jsx("input",{...e("phone",{required:!0,onChange:e=>{e.target.value=p(e.target.value)}}),type:"tel",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1.5 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),t.phone&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:"Il telefono \xe8 obbligatorio"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"pin",className:"block text-sm font-medium text-gray-700",children:"PIN (6 cifre)"}),r.jsx("input",{...e("pin",{required:!0,minLength:6,maxLength:6,pattern:/^[0-9]{6}$/}),type:"password",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1.5 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),t.pin&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:"Il PIN deve essere di 6 cifre numeriche"})]}),r.jsx("div",{className:"col-span-2 mt-6",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Dati Professionali"})}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"profession_type",className:"block text-sm font-medium text-gray-700",children:"Tipo di Professione"}),(0,r.jsxs)("select",{...e("profession_type",{required:!0}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1.5 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:"Seleziona la tua professione"}),r.jsx("option",{value:"veterinario",children:"Veterinario"}),r.jsx("option",{value:"psicologo",children:"Psicologo"}),r.jsx("option",{value:"medico",children:"Medico"}),r.jsx("option",{value:"dietologo",children:"Dietologo"}),r.jsx("option",{value:"altro",children:"Altro"})]}),t.profession_type&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:"Seleziona la tua professione"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"specialization",className:"block text-sm font-medium text-gray-700",children:"Specializzazione"}),r.jsx("input",{...e("specialization"),type:"text",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1.5 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"license_number",className:"block text-sm font-medium text-gray-700",children:"Numero Licenza"}),r.jsx("input",{...e("license_number",{required:!0}),type:"text",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1.5 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),t.license_number&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:"Il numero di licenza \xe8 obbligatorio"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"license_country",className:"block text-sm font-medium text-gray-700",children:"Paese di Rilascio Licenza"}),r.jsx("input",{...e("license_country",{required:!0}),type:"text",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1.5 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),t.license_country&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:"Il paese di rilascio \xe8 obbligatorio"})]}),r.jsx("div",{className:"col-span-2 mt-6",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Dati Aziendali (Opzionali)"})}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"business_name",className:"block text-sm font-medium text-gray-700",children:"Nome Attivit\xe0/Studio"}),r.jsx("input",{...e("business_name"),type:"text",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1.5 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"vat_number",className:"block text-sm font-medium text-gray-700",children:"Partita IVA"}),r.jsx("input",{...e("vat_number"),type:"text",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1.5 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Indirizzo"}),r.jsx("input",{...e("address"),type:"text",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1.5 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"Citt\xe0"}),r.jsx("input",{...e("city"),type:"text",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1.5 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"region",className:"block text-sm font-medium text-gray-700",children:"Regione"}),r.jsx("input",{...e("region"),type:"text",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1.5 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"cap",className:"block text-sm font-medium text-gray-700",children:"CAP"}),r.jsx("input",{...e("cap"),type:"text",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1.5 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700",children:"Sito Web"}),r.jsx("input",{...e("website"),type:"url",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1.5 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"eterna_section",className:"block text-sm font-medium text-gray-700",children:"Sezione Eterna"}),(0,r.jsxs)("select",{...e("eterna_section"),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1.5 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:"Seleziona la sezione"}),r.jsx("option",{value:"salute",children:"Salute"}),r.jsx("option",{value:"benessere",children:"Benessere"}),r.jsx("option",{value:"nutrizione",children:"Nutrizione"}),r.jsx("option",{value:"comportamento",children:"Comportamento"})]})]}),r.jsx("div",{className:"col-span-2",children:r.jsx("button",{type:"submit",disabled:m,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:m?"Registrazione in corso...":"Registrati come Professionista"})})]})})})}),r.jsx("div",{className:"mt-6 text-center",children:r.jsx(d(),{href:"/register",className:"text-sm text-indigo-600 hover:text-indigo-500",children:"Registrazione utente privato"})})]})}o()}catch(e){o(e)}})},2526:()=>{},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},2048:e=>{"use strict";e.exports=require("fs")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},1568:e=>{"use strict";e.exports=require("zlib")},5641:e=>{"use strict";e.exports=import("react-hook-form")},6201:e=>{"use strict";e.exports=import("react-hot-toast")}};var s=require("../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),o=s.X(0,[486,760,193],()=>t(431));module.exports=o})();