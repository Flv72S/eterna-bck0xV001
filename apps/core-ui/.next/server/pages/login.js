(()=>{var e={};e.id=459,e.ids=[459,888,660],e.modules={1589:(e,s,t)=>{"use strict";t.a(e,async(e,r)=>{try{t.r(s),t.d(s,{config:()=>g,default:()=>u,getServerSideProps:()=>h,getStaticPaths:()=>x,getStaticProps:()=>p,reportWebVitals:()=>b,routeModule:()=>P,unstable_getServerProps:()=>f,unstable_getServerSideProps:()=>S,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>N,unstable_getStaticProps:()=>j});var a=t(3101),i=t(7873),l=t(8222),n=t(8486),c=t.n(n),o=t(6452),d=t(416),m=e([d]);d=(m.then?(await m)():m)[0];let u=(0,l.l)(d,"default"),p=(0,l.l)(d,"getStaticProps"),x=(0,l.l)(d,"getStaticPaths"),h=(0,l.l)(d,"getServerSideProps"),g=(0,l.l)(d,"config"),b=(0,l.l)(d,"reportWebVitals"),j=(0,l.l)(d,"unstable_getStaticProps"),N=(0,l.l)(d,"unstable_getStaticPaths"),v=(0,l.l)(d,"unstable_getStaticParams"),f=(0,l.l)(d,"unstable_getServerProps"),S=(0,l.l)(d,"unstable_getServerSideProps"),P=new a.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/login",pathname:"/login",bundlePath:"",filename:""},components:{App:o.default,Document:c()},userland:d});r()}catch(e){r(e)}})},6452:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});var r=t(997);function a({Component:e,pageProps:s}){return r.jsx(e,{...s})}t(2526)},416:(e,s,t)=>{"use strict";t.a(e,async(e,r)=>{try{t.r(s),t.d(s,{default:()=>p});var a=t(997),i=t(6689),l=t(5641),n=t(7193),c=t(5984),o=t.n(c),d=t(7644),m=t.n(d),u=e([l]);function p(){let e=(0,n.useRouter)(),{register:s,handleSubmit:t,formState:{errors:r}}=(0,l.useForm)(),[c,d]=(0,i.useState)(!1),[u,p]=(0,i.useState)(1),[x,h]=(0,i.useState)(null),g=async s=>{d(!0),h(null);try{if(console.log("Dati di login:",s),"123456"!==s.token){h("Token non valido. Usa il token: 123456");return}await new Promise(e=>setTimeout(e,1e3)),e.push("/dashboard")}catch(e){console.error("Errore durante il login:",e),h("Si \xe8 verificato un errore durante il login")}finally{d(!1)}};return a.jsx("div",{className:"bg-auth",children:(0,a.jsxs)("div",{className:"flex h-screen w-full",children:[a.jsx("div",{className:"bg-image",children:a.jsx("div",{className:"bg-image-content",children:a.jsx(m(),{src:"/images/auth/login-bg.jpg",alt:"Login Background",fill:!0,className:"object-cover",priority:!0})})}),a.jsx("div",{className:"flex w-full items-center justify-center lg:w-1/2",children:(0,a.jsxs)("div",{className:"container",children:[a.jsx("div",{className:"mb-8 text-center",children:a.jsx("h2",{className:"title",children:"Accedi al tuo account"})}),a.jsx("form",{onSubmit:t(g),children:1===u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("label",{className:"label",children:"Email"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("input",{type:"email",placeholder:"Inserisci la tua email",className:"form-input",...s("email",{required:"Email obbligatoria"})}),r.email&&a.jsx("p",{className:"error-message",children:r.email.message})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("label",{className:"label",children:"PIN"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("input",{type:"password",placeholder:"Inserisci il tuo PIN",className:"form-input",...s("pin",{required:"PIN obbligatorio",pattern:{value:/^\d{6}$/,message:"Il PIN deve essere di 6 cifre numeriche"}})}),r.pin&&a.jsx("p",{className:"error-message",children:r.pin.message})]})]}),a.jsx("div",{className:"mb-5",children:a.jsx("button",{type:"button",onClick:()=>p(2),className:"btn-primary",children:"Avanti"})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("label",{className:"label",children:"Token"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Inserisci il token",className:"form-input",...s("token",{required:"Token obbligatorio"})}),r.token&&a.jsx("p",{className:"error-message",children:r.token.message})]}),(0,a.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["Usa il token: ",a.jsx("span",{className:"font-mono",children:"123456"})]})]}),x&&a.jsx("div",{className:"mb-4 rounded-lg bg-danger/10 p-4",children:a.jsx("p",{className:"text-sm text-danger",children:x})}),(0,a.jsxs)("div",{className:"mb-5 flex gap-4",children:[a.jsx("button",{type:"button",onClick:()=>p(1),className:"btn-secondary",children:"Indietro"}),a.jsx("button",{type:"submit",disabled:c,className:"btn-primary",children:c?"Accesso in corso...":"Accedi"})]})]})}),a.jsx("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Non hai un account?"," ",a.jsx(o(),{href:"/register",className:"text-primary hover:underline",children:"Registrati"})]})})]})})]})})}l=(u.then?(await u)():u)[0],r()}catch(e){r(e)}})},2526:()=>{},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},2048:e=>{"use strict";e.exports=require("fs")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},1568:e=>{"use strict";e.exports=require("zlib")},5641:e=>{"use strict";e.exports=import("react-hook-form")}};var s=require("../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[486,760,193,644],()=>t(1589));module.exports=r})();